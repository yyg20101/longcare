# å¿«é€Ÿä¼˜åŒ–æ‰§è¡Œæ¸…å•

## å·²å®Œæˆçš„ä¼˜åŒ– âœ…

### 1. å€’è®¡æ—¶å“é“ƒåŠŸèƒ½ä¼˜åŒ–
- âœ… åˆ›å»º AlarmRingtoneService æŒç»­å“é“ƒæœåŠ¡
- âœ… ä¼˜åŒ– CountdownAlarmReceiver å¯åŠ¨æµç¨‹
- âœ… ä¼˜åŒ– CountdownAlarmActivity ç”¨æˆ·äº¤äº’
- âœ… ä¼˜åŒ– CountdownNotificationManager é€šçŸ¥ç®¡ç†
- âœ… ä½¿ç”¨AndroidX Compatåº“
- âœ… ç§»é™¤æ— ç”¨ä»£ç 

**æ–‡ä»¶**:
- `AlarmRingtoneService.kt`
- `CountdownAlarmReceiver.kt`
- `DismissAlarmReceiver.kt`
- `CountdownAlarmActivity.kt`
- `CountdownNotificationManager.kt`

### 2. ServiceCountdownScreenä¼˜åŒ–
- âœ… å¢å¼ºæœåŠ¡åœæ­¢é€»è¾‘
- âœ… åœæ­¢æ‰€æœ‰ç›¸å…³æœåŠ¡ï¼ˆå€’è®¡æ—¶ã€å®šä½ã€å“é“ƒï¼‰
- âœ… ç§»é™¤æ— ç”¨ä»£ç å’Œæ³¨é‡Š
- âœ… ç®€åŒ–ä»£ç é€»è¾‘
- âœ… ä¿®å¤ç¼–è¯‘é”™è¯¯

**æ–‡ä»¶**:
- `ServiceCountdownScreen.kt`

### 3. ä¿®å¤å·²å¼ƒç”¨API
- âœ… ç§»é™¤ `PowerManager.ACQUIRE_CAUSES_WAKEUP` æ ‡å¿—

**æ–‡ä»¶**:
- `CountdownAlarmReceiver.kt`

## å¾…æ‰§è¡Œçš„ä¼˜åŒ– â³

### é˜¶æ®µä¸€ï¼šæ¸…ç†æ— ç”¨ä»£ç ï¼ˆç«‹å³æ‰§è¡Œï¼‰

#### 1. åˆ é™¤ç©ºç›®å½•
```bash
# serviceç›®å½•ä¸ºç©ºï¼Œå»ºè®®åˆ é™¤
rm -rf app/src/main/kotlin/com/ytone/longcare/service/
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¢ ä½  
**å½±å“**: æ¸…ç†é¡¹ç›®ç»“æ„

#### 2. ç§»é™¤æˆ–æ•´ç†æµ‹è¯•ä»£ç 
```bash
# é€‰é¡¹1ï¼šç§»åŠ¨åˆ°æµ‹è¯•ç›®å½•
mv app/src/main/kotlin/com/ytone/longcare/features/nfctest/ app/src/test/kotlin/com/ytone/longcare/features/
mv app/src/main/kotlin/com/ytone/longcare/features/notificationtest/ app/src/test/kotlin/com/ytone/longcare/features/

# é€‰é¡¹2ï¼šå¦‚æœä¸éœ€è¦ï¼Œç›´æ¥åˆ é™¤
rm -rf app/src/main/kotlin/com/ytone/longcare/features/nfctest/
rm -rf app/src/main/kotlin/com/ytone/longcare/features/notificationtest/
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¡ ä¸­ï¼ˆéœ€è¦ç¡®è®¤æ˜¯å¦è¿˜éœ€è¦è¿™äº›æµ‹è¯•åŠŸèƒ½ï¼‰  
**å½±å“**: æ¸…ç†ç”Ÿäº§ä»£ç 

#### 3. åˆ é™¤debugé…ç½®ï¼ˆå¦‚æœä¸éœ€è¦ï¼‰
```bash
# å¦‚æœNFCæµ‹è¯•åŠŸèƒ½å·²ç»ä¸éœ€è¦
rm app/src/main/kotlin/com/ytone/longcare/debug/NfcTestConfig.kt
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¡ ä¸­ï¼ˆéœ€è¦ç¡®è®¤ï¼‰  
**å½±å“**: æ¸…ç†è°ƒè¯•ä»£ç 

### é˜¶æ®µäºŒï¼šæ¶æ„ä¼˜åŒ–ï¼ˆçŸ­æœŸæ‰§è¡Œï¼‰

#### 1. åˆå¹¶presentationå±‚åˆ°featureså±‚
```bash
# å°† presentation/countdown/ åˆå¹¶åˆ° features/countdown/
mv app/src/main/kotlin/com/ytone/longcare/presentation/countdown/* \
   app/src/main/kotlin/com/ytone/longcare/features/countdown/ui/
rm -rf app/src/main/kotlin/com/ytone/longcare/presentation/
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¡ ä¸­ï¼ˆéœ€è¦æ›´æ–°importï¼‰  
**å½±å“**: ç»Ÿä¸€æ¶æ„å±‚æ¬¡

#### 2. ä¼˜åŒ–importè¯­å¥
- ç§»é™¤æœªä½¿ç”¨çš„import
- æŒ‰å­—æ¯é¡ºåºæ’åˆ—
- ä½¿ç”¨é€šé…ç¬¦importï¼ˆåŒä¸€åŒ…5ä¸ªä»¥ä¸Šç±»ï¼‰

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¢ ä½  
**å½±å“**: æé«˜ä»£ç å¯è¯»æ€§

#### 3. ç»Ÿä¸€å‘½åè§„èŒƒ
æ£€æŸ¥å¹¶ç»Ÿä¸€ï¼š
- ViewModel: `XxxViewModel`
- Screen: `XxxScreen`
- Repository: `XxxRepository`
- Service: `XxxService`

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¢ ä½  
**å½±å“**: æé«˜ä»£ç ä¸€è‡´æ€§

### é˜¶æ®µä¸‰ï¼šåŠŸèƒ½æ¨¡å—æ•´åˆï¼ˆä¸­æœŸæ‰§è¡Œï¼‰

#### 1. åˆå¹¶äººè„¸ç›¸å…³æ¨¡å—
```
features/face/
features/facecapture/      } åˆå¹¶ä¸º features/face/
features/facerecognition/
```

**å»ºè®®ç»“æ„**:
```
features/face/
â”œâ”€â”€ capture/          # äººè„¸æ•è·
â”œâ”€â”€ recognition/      # äººè„¸è¯†åˆ«
â”œâ”€â”€ detector/         # äººè„¸æ£€æµ‹
â””â”€â”€ ui/              # å…±äº«UI
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸ”´ é«˜ï¼ˆéœ€è¦å¤§é‡æµ‹è¯•ï¼‰  
**å½±å“**: ç®€åŒ–æ¨¡å—ç»“æ„

#### 2. åˆå¹¶å€’è®¡æ—¶æ¨¡å—
```
features/countdown/        } åˆå¹¶ä¸º features/countdown/
features/servicecountdown/
```

**å»ºè®®ç»“æ„**:
```
features/countdown/
â”œâ”€â”€ manager/         # é€šçŸ¥ç®¡ç†
â”œâ”€â”€ receiver/        # å¹¿æ’­æ¥æ”¶å™¨
â”œâ”€â”€ service/         # æœåŠ¡ï¼ˆå“é“ƒã€å‰å°æœåŠ¡ï¼‰
â””â”€â”€ ui/             # UIï¼ˆåŒ…å«ServiceCountdownScreenï¼‰
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¡ ä¸­ï¼ˆéœ€è¦æ›´æ–°ä¾èµ–ï¼‰  
**å½±å“**: å‡å°‘æ¨¡å—å†—ä½™

#### 3. åˆå¹¶æœåŠ¡ç›¸å…³æ¨¡å—
```
features/service/
features/servicecomplete/  } åˆå¹¶ä¸º features/service/
features/servicehours/
features/serviceorders/
```

**å»ºè®®ç»“æ„**:
```
features/service/
â”œâ”€â”€ complete/        # æœåŠ¡å®Œæˆ
â”œâ”€â”€ hours/          # æœåŠ¡å·¥æ—¶
â”œâ”€â”€ orders/         # æœåŠ¡è®¢å•
â””â”€â”€ ui/            # å…±äº«UI
```

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸ”´ é«˜ï¼ˆéœ€è¦å¤§é‡æµ‹è¯•ï¼‰  
**å½±å“**: ç®€åŒ–æœåŠ¡ç®¡ç†

### é˜¶æ®µå››ï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆé•¿æœŸæ‰§è¡Œï¼‰

#### 1. ä¼˜åŒ–å¯åŠ¨æ€§èƒ½
- ä½¿ç”¨Baseline Profile
- å»¶è¿Ÿåˆå§‹åŒ–éå…³é”®ç»„ä»¶
- ä¼˜åŒ–Application onCreate

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¡ ä¸­  
**å½±å“**: æå‡ç”¨æˆ·ä½“éªŒ

#### 2. ä¼˜åŒ–å†…å­˜ä½¿ç”¨
- ä½¿ç”¨LeakCanaryæ£€æµ‹å†…å­˜æ³„æ¼
- ä¼˜åŒ–å›¾ç‰‡åŠ è½½ç­–ç•¥
- åŠæ—¶é‡Šæ”¾èµ„æº

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¢ ä½  
**å½±å“**: æå‡åº”ç”¨ç¨³å®šæ€§

#### 3. ä¼˜åŒ–ç½‘ç»œè¯·æ±‚
- å®ç°è¯·æ±‚ç¼“å­˜
- ä¼˜åŒ–å¹¶å‘è¯·æ±‚
- å®ç°è¯·æ±‚é‡è¯•æœºåˆ¶

**çŠ¶æ€**: â³ å¾…æ‰§è¡Œ  
**é£é™©**: ğŸŸ¡ ä¸­  
**å½±å“**: æå‡ç½‘ç»œæ€§èƒ½

## ä¼˜åŒ–å»ºè®®ä¼˜å…ˆçº§

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³æ‰§è¡Œï¼‰
1. âœ… ä¿®å¤å·²å¼ƒç”¨API
2. â³ åˆ é™¤ç©ºç›®å½•
3. â³ ä¼˜åŒ–importè¯­å¥

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆ1-2å‘¨å†…ï¼‰
1. â³ ç§»é™¤æµ‹è¯•ä»£ç 
2. â³ åˆå¹¶presentationå±‚
3. â³ ç»Ÿä¸€å‘½åè§„èŒƒ

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆ1ä¸ªæœˆå†…ï¼‰
1. â³ åˆå¹¶åŠŸèƒ½æ¨¡å—
2. â³ æ€§èƒ½ä¼˜åŒ–
3. â³ æ·»åŠ æµ‹è¯•è¦†ç›–

## æ‰§è¡Œæ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦æé†’

1. **å¤‡ä»½ä»£ç **
   - åœ¨æ‰§è¡Œä»»ä½•é‡æ„å‰ï¼Œç¡®ä¿ä»£ç å·²æäº¤åˆ°Git
   - åˆ›å»ºæ–°åˆ†æ”¯è¿›è¡Œä¼˜åŒ–å·¥ä½œ

2. **å……åˆ†æµ‹è¯•**
   - æ¯æ¬¡ä¿®æ”¹åè¿è¡Œå®Œæ•´æµ‹è¯•
   - æ‰‹åŠ¨æµ‹è¯•å…³é”®åŠŸèƒ½
   - ä½¿ç”¨æ¨¡æ‹Ÿå™¨å’ŒçœŸæœºæµ‹è¯•

3. **æ¸è¿›å¼ä¼˜åŒ–**
   - ä¸è¦ä¸€æ¬¡æ€§ä¿®æ”¹å¤ªå¤š
   - æ¯å®Œæˆä¸€ä¸ªä¼˜åŒ–å°±æäº¤ä»£ç 
   - ä¿æŒé¡¹ç›®éšæ—¶å¯å‘å¸ƒçŠ¶æ€

4. **å›¢é˜Ÿæ²Ÿé€š**
   - å¤§çš„æ¶æ„è°ƒæ•´éœ€è¦å›¢é˜Ÿè®¨è®º
   - æ›´æ–°æ–‡æ¡£å’Œæ³¨é‡Š
   - é€šçŸ¥ç›¸å…³å¼€å‘äººå‘˜

## ä¼˜åŒ–æ•ˆæœé¢„æœŸ

### ä»£ç è´¨é‡
- å‡å°‘ä»£ç è¡Œæ•°ï¼š10-15%
- å‡å°‘æ¨¡å—æ•°é‡ï¼š29ä¸ª â†’ 15-20ä¸ª
- æé«˜ä»£ç å¤ç”¨ç‡ï¼š20-30%

### æ€§èƒ½æå‡
- å¯åŠ¨æ—¶é—´ï¼šå‡å°‘ 15-20%
- å†…å­˜å ç”¨ï¼šå‡å°‘ 10-15%
- APKå¤§å°ï¼šå‡å°‘ 5-10%

### å¯ç»´æŠ¤æ€§
- é™ä½æ¨¡å—é—´è€¦åˆåº¦
- æé«˜ä»£ç å¯è¯»æ€§
- ç®€åŒ–ä¾èµ–å…³ç³»

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯æ‰§è¡Œ
```bash
# 1. åˆ é™¤ç©ºç›®å½•
rm -rf app/src/main/kotlin/com/ytone/longcare/service/

# 2. éªŒè¯ç¼–è¯‘
./gradlew :app:compileDebugKotlin

# 3. è¿è¡Œæµ‹è¯•
./gradlew :app:testDebugUnitTest
```

### éœ€è¦ç¡®è®¤
1. nfctest å’Œ notificationtest æ¨¡å—æ˜¯å¦è¿˜éœ€è¦ï¼Ÿ
2. debug/NfcTestConfig.kt æ˜¯å¦è¿˜åœ¨ä½¿ç”¨ï¼Ÿ
3. presentationå±‚æ˜¯å¦å¯ä»¥åˆå¹¶åˆ°featureså±‚ï¼Ÿ

---

**æ¸…å•åˆ›å»ºæ—¶é—´**: 2025å¹´  
**å½“å‰çŠ¶æ€**: éƒ¨åˆ†å®Œæˆ  
**ä¸‹æ¬¡æ›´æ–°**: æ‰§è¡Œä¼˜åŒ–å
