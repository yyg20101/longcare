#!/bin/bash

# 服务倒计时功能编译验证脚本

echo "========================================="
echo "服务倒计时功能编译验证"
echo "========================================="
echo ""

# 1. 清理构建缓存
echo "1. 清理构建缓存..."
./gradlew clean

echo ""
echo "2. 编译项目..."
./gradlew :app:compileDebugKotlin

if [ $? -eq 0 ]; then
    echo ""
    echo "✅ 编译成功！"
    echo ""
    echo "========================================="
    echo "验证完成"
    echo "========================================="
    exit 0
else
    echo ""
    echo "❌ 编译失败！"
    echo ""
    echo "请检查以下内容："
    echo "1. 是否有语法错误"
    echo "2. 是否缺少导入语句"
    echo "3. 是否有类型不匹配"
    echo ""
    echo "========================================="
    echo "验证失败"
    echo "========================================="
    exit 1
fi
